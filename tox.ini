[tox]
envlist =
    # Django 1.7
    py34dj17, py33dj17, py27dj17,
    # Django 1.6
    py33dj16, py27dj16, py26dj16


[testenv]
deps =
    djinga
    django_nose
deps_dj17 =
    {[testenv]deps}
    Django>=1.7,<1.8
deps_dj16 =
    {[testenv]deps}
    Django>=1.6,<1.7
deps_py26 =
    unittest2
    importlib

setenv =
    DJANGO_SETTINGS_MODULE = tests._settings
    PYTHONPATH = {toxinidir}
changedir = tests
commands = python {toxworkdir}/{envname}/Scripts/django-admin.py test []


# Django 1.7

[testenv:py34dj17]
basepython = python3.4
deps = {[testenv]deps_dj17}

[testenv:py33dj17]
basepython = python3.3
deps = {[testenv]deps_dj17}

[testenv:py27dj17]
basepython = python2.7
deps = {[testenv]deps_dj17}


# Django 1.6

[testenv:py33dj16]
basepython = python3.3
deps = {[testenv]deps_dj16}

[testenv:py27dj16]
basepython = python2.7
deps =
    {[testenv]deps_dj16}

[testenv:py26dj16]
basepython = python2.6
deps =
    {[testenv]deps_py26}
    {[testenv]deps_dj16}
